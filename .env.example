# --- Flask 核心设置 ---
# 入口文件，通常无需修改
FLASK_APP=app.py

# 调试模式
# 开发环境设为 1 (开启调试日志和热重载)
# 生产环境务必设为 0 (关闭调试以提高安全性和性能)
FLASK_DEBUG=0

# --- 安全与密钥 (生产环境务必修改) ---
# 用于加密 Session、签名 Cookie 和生成 CSRF 令牌的核心密钥。
# 警告：请务必将其修改为一个随机且复杂的长字符串。
# 你可以在终端运行以下 Python 命令生成一个安全密钥：
# python -c 'import secrets; print(secrets.token_hex(32))'
SECRET_KEY=change-this-to-a-secure-random-key-in-production

# --- 数据库配置 ---
# 默认使用 SQLite，数据文件将存储在 instance/data.sqlite
## 支持mysql/sqlite/postgresql
DB_TYPE=sqlite
SQLITE_PATH=
## Mysql/postgresql配置
DB_USER=root
DB_PASSWORD=password
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=promptmanager

# --- 文件存储配置 ---
# 上传图片的存储目录（相对于项目根目录）
UPLOAD_FOLDER=static/uploads

# 上传参考图的最大数量限制 (Img2Img 模式)
MAX_REF_IMAGES=10

# --- 安全限流 (Rate Limits) ---
# 限制接口的访问频率，防止恶意刷接口或暴力破解
# 格式参考 Flask-Limiter 文档 (例如: "100 per day", "10 per hour")
# 上传接口限制
UPLOAD_RATE_LIMIT=100 per hour
# 登录接口限制 (防止暴力破解密码)
LOGIN_RATE_LIMIT=10 per minute

# --- 初始管理员账户 ---
# 请修改默认的用户名和密码
# 运行 `flask init-db` 命令初始化数据库时，将自动创建此管理员账户。
ADMIN_USERNAME=admin
ADMIN_PASSWORD=promptmanager

# --- 界面显示配置 ---
# 画廊首页每页显示的图片数量
ITEMS_PER_PAGE=24
# 管理后台每页显示的数据条数
ADMIN_PER_PAGE=12

# --- 图片处理进阶配置 ---
# 图片最大边长 (像素)
# 上传的大图将被等比缩放，使其长边不超过此数值，以节省存储空间。
IMG_MAX_DIMENSION=1600

# 图片保存质量 (1-100)
# 数值越低文件越小，但画质损失越严重。建议 85-90。
IMG_QUALITY=85

# 是否启用图片压缩与尺寸调整？(True/False)
# True: 启用压缩（推荐，节省空间和带宽）
# False: 保留原图分辨率和质量（适合追求极致画质或局域网环境）
ENABLE_IMG_COMPRESS=False

# 首页预览是否使用缩略图？(True/False)
# True: 加载缩略图（推荐，加载速度快）
# False: 直接加载原图（加载慢，但在某些不支持缩略图生成的场景下使用）
USE_THUMBNAIL_IN_PREVIEW=True

# --- 网络与资源加载 ---
# 静态资源加载方式 (Bootstrap, Icons 等)
# True: 使用本地文件 (推荐：适合内网部署、离线环境或追求稳定性)
# False: 使用公共 CDN (适合服务器带宽较小的环境)
USE_LOCAL_RESOURCES=True

# --- 访客权限控制 ---
# 是否允许未登录的访客在“关于”页面手动开启“显示敏感内容”开关？
# True: 允许访客自行切换 (默认)
# False: 禁止访客切换，敏感内容仅管理员登录后可见
ALLOW_PUBLIC_SENSITIVE_TOGGLE=True

# --- 存储模式选择 ---
# 选项: local (默认，本地文件存储) | cloud (通用 S3 对象存储)
STORAGE_TYPE=local

# --- 通用 S3 配置 (仅当 STORAGE_TYPE=cloud 时生效) ---
# 支持 AWS S3, 阿里云 OSS, 腾讯云 COS, 七牛云 Kodo, Cloudflare R2, MinIO 等

# 1. S3 接口地址 (Endpoint)
# 例如: https://s3-cn-south-1.qiniucs.com (七牛)
#       https://oss-cn-hangzhou.aliyuncs.com (阿里)
S3_ENDPOINT=

# 2. 访问凭证 (AK/SK)
S3_ACCESS_KEY=
S3_SECRET_KEY=

# 3. 存储桶名称 (Bucket Name)
S3_BUCKET=

# 4. 访问域名 (CDN Domain)
# 必须带 https://，例如: https://img.example.com
S3_DOMAIN=

# 5. 图片处理后缀 (可选，各厂商不同)
# 用于生成缩略图。留空则缩略图与原图一致。
# 七牛云示例: ?imageView2/1/w/400/h/400/q/85
# 阿里云示例: ?x-oss-process=image/resize,m_fill,w_400,h_400
S3_THUMB_SUFFIX=
